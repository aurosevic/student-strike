---
import Base from "@layouts/Base.astro";
import { Markdown } from '@astropub/md'

import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";

import { langs, file } from "@scripts/i18n";
export async function getStaticPaths() {
  return langs.map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const { frontmatter } = await file("faq", lang);
---

<Base {lang} title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <h1>{frontmatter.naslov}</h1>

  <div class="zahtevi">
    {frontmatter.pitanja.map(
      (entry: {pitanje: string, odgovor: string}) => 
        <details>
          <summary>{entry.pitanje}</summary>
          <div class="content">
            <Markdown of={entry.odgovor} />
          </div>
        </details>
    )}
  </div>
</Base>

<style>
  .zahtevi {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  details summary {
    cursor: pointer;
    padding: 1rem;
    border: 1px solid black;
    border-radius: 0.5rem;
  }
</style>